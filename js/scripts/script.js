var game,domain="https://rpc.eu.booming-games.com",list_of_games=domain+"/marketing/pages/demo-links",game_metadata_e1=domain+"/games/metadata/get",game_metadata_e3=domain+"/e3/games/metadata/get",TAG="TAG",agg_tags=domain+"/liquor_cabinet/game_tags/aggregate",FEATURE="FEATURE",agg_features=domain+"/liquor_cabinet/game_features/aggregate",VOLATILITY="VOLATILITY",agg_volatilities=domain+"/liquor_cabinet/game_volatilities/aggregate",isMobile=window.innerWidth<600,re_s1=new RegExp(" ","g"),re_s2=new RegExp(",","g"),fill_in_gamedata=function(e,a){var i=a.reduce(function(e,a){return e[a.game_id]=a,e},{});$.each(e,function(e,a){var s=i[a];game={game_id:s.game_id,game_name:s.title_name,game_grid:s.grid_description,game_paylines:s.paylines_description,game_volatility:s.volatility,game_features:s.features.join(", "),game_themes:s.tags.join(", ")},isMobile?(game.game_link="https://operator.eu.booming-games.com/promotion/play/"+s.game_id+"/mobile/demo-links/en",isE3(s)?game.game_asset="https://engine.eu.booming-games.com/assets/"+s.logo_mobile:game.game_asset="https://games.eu.booming-games.com/metadata_files/"+s.game_id+"/logo_mobile.png"):(game.game_link="https://operator.eu.booming-games.com/promotion/play/"+s.game_id+"/desktop/demo-links/en",isE3(s)?game.game_asset="https://engine.eu.booming-games.com/assets/"+s.logo:game.game_asset="https://games.eu.booming-games.com/metadata_files/"+s.game_id+"/logo.png"),$("div#container").append('<span class="game-box '+game.game_grid+" "+game.game_paylines+" "+game.game_features.replace(/['+]/g,"").replace(re_s1,"").replace(re_s2," ")+" "+game.game_themes.replace(re_s1,"").replace(re_s2," ")+" "+game.game_volatility.toLowerCase()+" "+game.game_name.replace(re_s1,"").replace(re_s2," ").toLowerCase()+' "> <img src="'+game.game_asset+'" alt=""/><a href="'+game.game_link+'" target="_blank" class="game-link"></a><div class="game-details"><div class="game-details-inner"><span class="label">Name: </span><span>'+game.game_name+'</span><br/><span class="label">Grid: </span><span>'+game.game_grid+'</span><br/><span class="label">Paylines: </span><span>'+game.game_paylines+'</span><br/><span class="label">Volatility: </span><span>'+game.game_volatility+'</span><br/><span class="label">Features: </span><span>'+game.game_features+'</span><span class="title">'+game.game_name+'</span></div></div><a href="" class="icon-details"><span class="icon-plus"></span></a></span>')})},fill_in_filters=function(e,i){i!=VOLATILITY&&e.data.sort(function(e,a){var s=e.code.toLowerCase(),i=a.code.toLowerCase();return s<i?-1:i<s?1:0}),$.each(e.data,function(e,a){switch(i){case TAG:$("[data-group='themes']").append('<div><input type="checkbox" class="checkbox" value=".'+a.en.name.replace(re_s1,"").replace(re_s2," ").toUpperCase()+'" id="'+a.en.name.replace(re_s1,"").replace(re_s2," ")+'"/><label for="'+a.en.name.replace(re_s1,"").replace(re_s2," ")+'">'+a.en.name+"</label></div>");break;case FEATURE:var s=a.en.name.replace(/['+]/g,"").replace(re_s1,"").replace(re_s2," ");$("[data-group='feature']").append('<div><input type="checkbox" class="checkbox" value=".'+s+'" id="'+s+'"/><label for="'+s+'">'+a.en.name+"</label></div>");break;case VOLATILITY:$("[data-group='volatility']").append('<div><input type="checkbox" class="checkbox volatility_solo" value=".'+a.en.name.replace(re_s1,"").replace(re_s2," ").toLowerCase()+'" id="'+a.en.name.replace(re_s1,"").replace(re_s2," ")+'"/><label for="'+a.en.name.replace(re_s1,"").replace(re_s2," ")+'">'+a.en.name+"</label></div>")}})},a_all_games=$.ajax({url:list_of_games,type:"GET",crossDomain:!0,dataType:"json"}),a_e1_metadata=function(e){return $.ajax({url:game_metadata_e1,type:"POST",crossDomain:!0,data:JSON.stringify({game_ids:e.data.game_ids}),dataType:"json"})},a_e3_metadata={data:[]},a_agg=function(e,a){return $.ajax({url:e,type:"GET",crossDomain:!0,dataType:"json"})},isE3=function(e){return!e.files};function init_gamesFilters(){var e=$("#options input"),a=$("#container");a.isotope({itemSelector:".game-box"}),a.imagesLoaded().progress(function(){a.isotope("layout")});var s,i,t,o=$("#quicksearch").keyup((s=function(){var i=[];e.filter(":checked").each(function(){i.push(this.value)}),i=i.join(""),a.isotope({filter:function(){var e=!0,a=$(this),s=o.val();return""!=s&&(qsRegex=new RegExp(s,"gi"),e=null!=$(this).find(".title").text().match(qsRegex)),0<i.length&&(null==e||1==e)&&(e=a.is(i)),e}})},i=200,function(){t&&clearTimeout(t),t=setTimeout(function(){s(),t=null},i||100)}));e.change(function(){1<$("input:checkbox.checkbox.grid_solo:checked").length&&($("input:checkbox.checkbox.grid_solo:checked").prop("checked",!1),$("#"+this.id).prop("checked",!0)),1<$("input:checkbox.checkbox.payline_solo:checked").length&&($("input:checkbox.checkbox.payline_solo:checked").prop("checked",!1),$("#"+this.id).prop("checked",!0)),1<$("input:checkbox.checkbox.volatility_solo:checked").length&&($("input:checkbox.checkbox.volatility_solo:checked").prop("checked",!1),$("#"+this.id).prop("checked",!0));var i=[];e.filter(":checked").each(function(){i.push(this.value)}),o.val(),i=i.join(""),a.isotope({filter:function(){var e=!0,a=$(this),s=o.val();return""!=s&&(qsRegex=new RegExp(s,"gi"),e=null!=$(this).find(".title").text().match(qsRegex)),0<i.length&&(null==e||1==e)&&(e=a.is(i)),e}})}),$("#resetFilters, .btn-reset").on("click touched",function(){({}),a.isotope({filter:"*"}),o.val(""),e.prop("checked",!1)})}function init_filters_UI(){$(".option-set").slideUp(),$(document).on("click touchend",".filter-link",function(e){e.preventDefault(),$(this).toggleClass("open").siblings(".option-set").slideToggle()}),$(document).on("click touchend",".icon-details",function(e){e.preventDefault(),$(this).children(".icon-plus").toggleClass("rotate"),$(this).siblings(".game-details").toggleClass("visible")})}function hideLoader(){$(".loader-wrapper").hide(),$(".filters-games").addClass("loaded")}function displayEmail(e,a){return"<a href='#' class='email' onclick='this.href=\"mailto:\" + atob(\""+e+'") + '+(a?'"?subject="'+a+'"':'""')+"' target='_blank'>"+atob(e)+"</a>"}$(document).ready(function(l){var e=!1,a=window.location.pathname;0<a.indexOf("games.html")?e=!0:a.indexOf("careers.html"),project_nameModule={init:function(){this.header(),this.initSliderHome(),this.initSliderNews(),this.viewLogos(),this.mobileNav(),this.openPositionsFilters(),this.openPositionsAccordion(),this.youtube(),this.initScrollReveal(),this.formValidation(),this.cookies(),e?(this.initSliderGames(),this.initGames(),this.mobileGamesFilters()):hideLoader()},header:function(){l(document).on("scroll",function(){100<l(document).scrollTop()?l(".header").addClass("narrow"):l(".header").removeClass("narrow")})},initSliderHome:function(){l(".js-slider-home").slick({dots:!0,autoplay:!0,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1})},initSliderGames:function(){l(".js-slider-games").slick({infinite:!0,autoplay:!0,slidesToShow:3,slidesToScroll:3,prevArrow:'<div class="prev-slide"><img src="images/icons/arrow-l.svg" alt=""></div>',nextArrow:'<div class="next-slide"><img src="images/icons/arrow-r.svg" alt=""></div>',responsive:[{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:2}}]})},mobileNav:function(){l(".js-menu-toggler").on("click touchend",function(e){e.preventDefault(),l(this).toggleClass("open"),l("body").toggleClass("no-scroll"),l(".mobile-nav").slideToggle()})},initSliderNews:function(){var s=1100;l(".js-slider-news").on("init",function(e,a){window.innerWidth<660?maxPages=Math.ceil(a.slideCount):window.innerWidth<=s&&660<=window.innerWidth?maxPages=Math.ceil(a.slideCount/2):maxPages=Math.ceil(a.slideCount/3),l(".slider-paging-number li").append(" / "+maxPages)}),l(".js-slider-news").slick({infinite:!1,slide:".slide-news",prevArrow:l(".prev-slide"),nextArrow:l(".next-slide"),dots:!0,slidesToShow:3,slidesToScroll:3,appendDots:l(".pagination"),dotsClass:"slider-paging-number",responsive:[{breakpoint:660,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:s,settings:{slidesToShow:2,slidesToScroll:2}}]}),window.innerWidth>s&&l(".slider-news .slide-news").length<=3&&l(".section-news .slick-arrow").addClass("slick-disabled")},viewLogos:function(){var a=l(".js-clients-logos");a.hide(),l.fn.toggleText=function(e,a){return this.text()==e?this.text(a):this.text(e),this},l("#viewLogos").on("click",function(e){e.preventDefault(),sr.reveal(),a.slideToggle(),l(this).parents(".js-logos-container").toggleClass("expanded"),l(this).toggleText("Hide","View all")})},openPositionsFilters:function(){var i=l(".js-careers-filters-wrap a"),t=l(".careers-boxes .position-wrap");i.on("click touchend",function(e){e.preventDefault();var a=l(this);i.removeClass("active"),a.addClass("active"),l(".position-details").slideUp(),l(".position .icon").removeClass("rotated");var s=a.attr("data-filter");"all"==s?t.removeClass("is-animated").fadeOut().finish().promise().done(function(){t.each(function(e){l(this).addClass("is-animated").delay(200*e++).fadeIn()}),l(this).siblings(".no-positions-popup").removeClass("popup-visible")}):t.removeClass("is-animated").fadeOut().finish().promise().done(function(){0==t.filter('[data-category *= "'+s+'"]').length?l(this).siblings(".no-positions-popup").addClass("popup-visible"):l(this).siblings(".no-positions-popup").removeClass("popup-visible"),t.filter('[data-category *= "'+s+'"]').each(function(e){l(this).addClass("is-animated").delay(200*e++).fadeIn()})})})},openPositionsAccordion:function(){var a=l(".position-details"),s=l(".js-accordion-link"),i=l(".position .icon");s.on("click",function(e){e.preventDefault(),!0===l(this).data("slided")?(l(this).parent().siblings(a).slideUp("normal"),i.removeClass("rotated"),l(this).parent().find(i).removeClass("rotated"),l(this).data("slided",!1)):(a.slideUp("normal"),s.data("slided",!1),l(this).parent().siblings(a).slideDown("normal"),i.removeClass("rotated"),l(this).parent().find(i).addClass("rotated"),l(this).data("slided",!0))}),a.hide()},youtube:function(){l(".js-play-video").each(function(){l(this).on("click",function(e){e.preventDefault(),l(".js-video-popup").addClass("visible").find(".js-video")[0].src+="&autoplay=1",l("body").addClass("fixed")})})},initScrollReveal:function(){window.sr=ScrollReveal({mobile:!1}),sr.reveal(".sr-img",{duration:1e3,viewFactor:.1},50),sr.reveal(".sr-block",{duration:1200}),sr.reveal(".sr-block-games",{duration:1200,delay:1500}),sr.reveal(".sr-left",{duration:1700,origin:"left",distance:"30px",delay:600}),sr.reveal(".sr-right",{duration:1700,origin:"right",distance:"30px",delay:600})},initGames:function(){l.when(a_all_games).done(function(t){l.when(a_e1_metadata(t),a_agg(agg_tags,TAG),a_agg(agg_features,FEATURE),a_agg(agg_volatilities,VOLATILITY)).done(function(e,a,s,i){fill_in_gamedata(t.data.game_ids,e[0].data),fill_in_filters(a[0],TAG),fill_in_filters(s[0],FEATURE),fill_in_filters(i[0],VOLATILITY),init_gamesFilters(),init_filters_UI(),setTimeout(function(){hideLoader()},500)})})},mobileGamesFilters:function(){l(window).scroll(function(){var e=l(window).scrollTop();window.innerWidth<=767&&450<=e?l(".search-wrap").addClass("fixed"):768<=window.innerWidth&&window.innerWidth<=920&&700<=e?l(".search-wrap").addClass("fixed"):l(".search-wrap").removeClass("fixed")}),l(".js-mobile-filters").on("click touchend",function(e){e.preventDefault(),l(this).parents("body").find(".column-options").addClass("visible"),l("body").addClass("no-scroll")}),l(".btn-close-popup").on("click touchend",function(){l(this).parent(".column-options").removeClass("visible"),l("body").removeClass("no-scroll")})},formValidation:function(){l("#contact-form-name").on("blur",function(){var e=l(this);4<=e.val().length?(e.removeClass("invalid").addClass("valid"),e.next(".validation-alert").text("").removeClass("error").addClass("ok")):(e.removeClass("valid").addClass("invalid"),e.next(".validation-alert").text("Name must contain more than 4 characters").removeClass("ok").addClass("error"))}),l("#contact-form-email").on("blur",function(){var e=l(this);/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e.val())?(e.removeClass("invalid").addClass("valid"),e.next(".validation-alert").text("").removeClass("error").addClass("ok")):(e.removeClass("valid").addClass("invalid"),e.next(".validation-alert").text("Enter a correct email").removeClass("ok").addClass("error"))}),l("#contact-form-subject").on("blur",function(){var e=l(this);l(this).val()?(e.removeClass("invalid").addClass("valid"),e.next(".validation-alert").text("").removeClass("error").addClass("ok")):(e.removeClass("valid").addClass("invalid"),e.next(".validation-alert").text("You must enter the subject").removeClass("ok").addClass("error"))}),l("#contact-form-message").on("blur",function(){var e=l(this);l(this).val()?(e.removeClass("invalid").addClass("valid"),e.next(".validation-alert").text("").removeClass("error").addClass("ok")):(e.removeClass("valid").addClass("invalid"),e.next(".validation-alert").text("You must enter the message body").removeClass("ok").addClass("error"))}),l("#contact-form-processing-consent").on("blur",function(){var e=l(this);l(this).prop("checked")?(e.removeClass("invalid").addClass("valid"),e.next(".validation-alert").text("").removeClass("error").addClass("ok")):(e.removeClass("valid").addClass("invalid"),e.next(".validation-alert").text("This field is mandatory").removeClass("ok").addClass("error"))}),l("#contact-form").on("submit",function(e){e.preventDefault();var a=l("#contact-form-name"),s=l("#contact-form-email"),i=l("#contact-form-subject"),t=l("#contact-form-message"),o=l("#contact-form-processing-consent"),n=l("#contact-form-marketing-consent");if(!(a.hasClass("valid")&&s.hasClass("valid")&&i.hasClass("valid")&&t.hasClass("valid")&&o.hasClass("valid")))return alert("Fill in all fields");l.ajax({type:"POST",url:"https://contact-us-193310.appspot.com/sendmail",contentType:"application/json",dataType:"json",data:JSON.stringify({name:a.val(),email:s.val(),subject:i.val(),message:t.val(),processing_consent:o.val(),marketing_consent:n.val(),captcha:grecaptcha.getResponse()}),success:function(){alert("Your message was successfully sent."),grecaptcha.reset()},error:function(){alert("We were not able to submit for message."),grecaptcha.reset()}})})},cookies:function(){var s="cookiesok";l("#close-cookie-warn").on("click",function(e){e.preventDefault();var a=new Date;a.setTime((new Date).getTime()+2592e6),document.cookie=s+"=1;expires="+a,l("#cookie-warn").addClass("close")}),-1===("; "+document.cookie+";").indexOf("; "+encodeURI(s)+"=")&&l("#cookie-warn").show()}},project_nameModule.init()}),$(".render-email").each(function(){var e=$(this);e.html(displayEmail(e.data("email"),e.data("subject")))});